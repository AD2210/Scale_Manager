{% extends 'components/_table_wrapper.html.twig' %}

{% block title %}Liste des assemblages{% endblock %}

{% block page_header %}
    <h1 class="h4 mb-0">Liste des assemblages</h1>
{% endblock %}

{% block table_head %}
    <tr>
        <th class="col-2">Nom</th>
        <th class="col-1 text-center">Actif</th>
        <th class="col-1 text-center">Spécifique</th>
        <th class="col-3">Commentaire</th>
        <th class="col-4">Lien méthode</th>
        <th class="col-1 text-center">Actions</th>
    </tr>
{% endblock %}

{% block table_add_form %}
    <tr class="bg-light border rounded shadow-sm align-middle">
        {% include 'components/_form_add_entity.html.twig' with {
            route: 'app_base_generic_create',
            route_parameters: { type: 'assembly_process' },
            form_class: 'mt-2',
            fields: [
                { name: 'name', type: 'text', placeholder: 'Nom du process', required: true },
                { name: 'isActive', type: 'checkbox', value: false },
                { name: 'isSpecific', type: 'checkbox', value: false },
                { name: 'comment', type: 'textarea', placeholder: 'Commentaire' },
                { name: 'methodLink', type: 'file' }
            ]
        } %}
    </tr>
{% endblock %}

{% block table_rows %}
    {% for item in items %}
        <tr data-id="{{ item.id }}">
            {% include 'components/editable/_text_cell.html.twig' with {
                entityId: item.id,
                entityType: 'assembly_process',
                field: 'name',
                value: item.name
            } %}

            {% include 'components/editable/_checkbox_cell.html.twig' with {
                entityId: item.id,
                entityType: 'assembly_process',
                field: 'isActive',
                value: item.isActive
            } %}

            {% include 'components/editable/_checkbox_cell.html.twig' with {
                entityId: item.id,
                entityType: 'assembly_process',
                field: 'isSpecific',
                value: item.isSpecific
            } %}

            {% include 'components/editable/_textarea_cell.html.twig' with {
                entityId: item.id,
                entityType: 'assembly_process',
                field: 'comment',
                value: item.comment
            } %}

            {% include 'components/editable/_file_cell.html.twig' with {
                entityId: item.id,
                entityType: 'assembly_process',
                field: 'methodLink',
                value: item.methodLink,
                view_route: 'app_assembly_process_view'
            } %}

            {% include 'components/buttons/_delete_button.html.twig' %}
        </tr>
    {% endfor %}
{% endblock %}
