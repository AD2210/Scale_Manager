<td class="editable"
    data-controller="editable"
    data-editable-id-value="{{ entityId }}"
    data-editable-type-value="{{ entityType }}"
    data-editable-field-value="{{ field }}">
    <div class="dropdown-multiselect" data-field="{{ field }}">
        <button type="button" class="btn btn-outline-secondary dropdown-toggle w-100" data-bs-toggle="dropdown" aria-expanded="false">
            {% if multiple is not defined or multiple %}
                {# Mode ManyToMany #}
                {{ label is defined ? label : '' }}
            {% else %}
                {# Mode ManyToOne #}
                {% if value is not null %}
                    {{ value.name }}
                {% else %}
                    {{ placeholder|default('SÃ©lectionner...') }}
                {% endif %}
            {% endif %}
        </button>
        <ul class="dropdown-menu p-2" style="min-width: 200px;">
            {% if multiple is defined and not multiple and placeholder is defined %}
                <li>
                    <label class="form-check">
                        <input class="form-check-input {{ name }}"
                               type="radio"
                               name="{{ field }}_{{ entityId }}"
                               value=""
                               {% if value is null %}checked{% endif %}
                               data-action="change->editable#update">
                        {{ placeholder }}
                    </label>
                </li>
            {% endif %}
            {% for item in items %}
                <li>
                    <label class="form-check">
                        <input class="form-check-input {{ name }}"
                               type="{{ multiple is defined and not multiple ? 'radio' : 'checkbox' }}"
                               name="{{ field }}_{{ entityId }}"
                               value="{{ item.id }}"
                               {% if multiple is not defined or multiple %}
                                   {% if item in value|default([]) %}checked{% endif %}
                               {% else %}
                                   {% if value and item.id == value.id %}checked{% endif %}
                               {% endif %}
                               data-action="change->editable#update">
                        {{ item.name }}
                    </label>
                </li>
            {% endfor %}
        </ul>
    </div>
</td>
