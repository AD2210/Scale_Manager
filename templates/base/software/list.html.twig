{% extends 'components/_table_wrapper.html.twig' %}

{% set entityType = 'software' %}

{% block title %}Liste des logiciels{% endblock %}

{% block page_header %}
    <h1 class="h4 mb-0">Liste des logiciels</h1>
{% endblock %}

{% block table_head %}
    <tr>
        <th class="col-6">Nom</th>
        <th class="col-2 text-center">Actif</th>
        <th class="col-2 text-center">Principal</th>
        {{ parent() }}
    </tr>
{% endblock %}

{% block table_add_form %}
    <tr class="bg-light border rounded shadow-sm align-middle">
        {% include 'components/_form_add_entity.html.twig' with {
            route: 'app_base_generic_create',
            route_parameters: { type: 'software' },
            form_class: 'mt-2',
            fields: [
                { name: 'name', type: 'text', placeholder: 'Nom du logiciel', required: true },
                { name: 'isActive', type: 'checkbox', value: true },
                { name: 'isMain', type: 'checkbox', value: false },
            ]
        } %}
    </tr>
{% endblock %}

{% block table_row_columns %}
    {% include 'components/editable/_text_cell.html.twig' with {
        entityId: item.id,
        entityType: entityType,
        field: 'name',
        value: item.name
    } %}

    {% include 'components/editable/_checkbox_cell.html.twig' with {
        entityId: item.id,
        entityType: entityType,
        field: 'isActive',
        value: item.isActive
    } %}

    {% include 'components/editable/_radio_cell.html.twig' with {
        entityId: item.id,
        entityType: entityType,
        field: 'isMain',
        value: item.isMain,
        groupName: 'software-main'
    } %}
{% endblock %}
